(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{34:function(e,t,n){},52:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(8),r=n.n(a),o=(n(52),n(12)),s=n.n(o),u=n(20),d=n(7),l=n(9),j=n(84),b=n(80),f=n(81),O=n(82),p=n(83),h=n(85),g=(n(34),n(40)),v=n(86),x=n(2);function m(e){return Object(c.useEffect)((function(){}),[e.startX,e.startY]),Object(x.jsx)("div",{children:Object(x.jsx)(g.a,{start:function(){return{x:e.startX,y:e.startY}},update:{x:[e.coordX],y:[e.coordY],timing:{duration:400,ease:v.a}},children:function(t){var n=t.x,c=t.y;return Object(x.jsx)("div",{children:Object(x.jsx)("div",{style:{position:"absolute",width:50,height:50,borderRadius:"50%",opacity:.3,backgroundColor:"white",WebkitTransform:"translate3d(".concat(n,"px, ").concat(c,"px, 0)"),transform:"translate3d(".concat(n,"px, ").concat(c,"px, 0)"),visibility:e.isVisible?"visible":"hidden"}})})}})})}var y,k,w=n.p+"static/media/bomb.80c3d442.png",E=n.p+"static/media/winner.2c5dce69.png";!function(e){e[e.BOMB=-1]="BOMB",e[e.EMPTY=0]="EMPTY",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR"}(y||(y={})),function(e){e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.WIN=1]="WIN",e[e.LOST=2]="LOST"}(k||(k={}));var S=function e(t,n,c){if(n<0||n>8)return 0;if(c<0||c>8)return 0;if(t[n][c].visited)return 0;if(t[n][c].visited=!0,t[n][c].isClicked=!0,t[n][c].type!==y.EMPTY)return t[n][c].isClicked=!0,1;for(var i=0,a=0;a<4;a++)i+=e(t,n+P[a],c+X[a]);return i+1},C=n(28),T=n.p+"static/media/bomb.41c2f52f.svg";function R(e){return Object(C.a)(e),Object(x.jsx)("img",{src:T,height:35,width:35})}var Y=n.p+"static/media/flag-minesweeper.f3768cfa.png";function N(e){return Object(C.a)(e),Object(x.jsx)("img",{src:Y,height:35,width:35})}function F(e){return Object(x.jsx)("div",{onClick:function(){e.gameState===k.IN_PROGRESS&&(e.isFlagged||(e.type===y.BOMB&&e.setGameState(k.LOST),e.setIsClicked()))},onContextMenu:function(t){t.preventDefault(),e.isClicked||e.setIsFlagged(!0),e.isFlagged&&e.setIsFlagged(!1)},className:"cell",style:{backgroundColor:e.isClicked?"#00b4d8":"#03045e",color:"whitesmoke"},children:e.isFlagged?Object(x.jsx)(N,{}):e.isClicked?e.type===y.BOMB?Object(x.jsx)(R,{}):e.type!==y.EMPTY?Object(x.jsx)(x.Fragment,{children:e.type}):Object(x.jsx)(x.Fragment,{}):void 0})}var M=function(e,t,n,c,i,a,r,o,s,u,l,j,b,f){return e.map((function(e,O){return Object(x.jsx)(F,{type:e.type,isClicked:e.isClicked,isFlagged:e.isFlagged,setIsFlagged:function(e){var a=Object(d.a)(n);a[t][O].isFlagged=e,s(e?c-1:c+1),o(a),u([].concat(Object(d.a)(i),[{positionX:t,positionY:O,isLeftClick:!1,second:f}]))},setIsClicked:function(){var e=Object(d.a)(n);e[t][O].isClicked=!0,l(a-1),o(e),u([].concat(Object(d.a)(i),[{positionX:t,positionY:O,isLeftClick:!0,second:f}])),n[t][O].type===y.EMPTY&&b(t,O)},setGameState:j,gameState:r},"cell-".concat(t,"-").concat(O))}))};function B(e){return new Promise((function(t){return setTimeout(t,e)}))}var I=function(){var e=Object(u.a)(s.a.mark((function e(t,n,c,i,a,r,o,u,d,l){var j,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(),n(!0),j=s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,n=0===t?c[0].second:c[t].second-c[t-1].second,e.next=4,B(1e3*n).then((function(){c[t].isLeftClick?(i(a(c[t].positionX,c[t].positionY)),r(c[t].positionX,c[t].positionY)):(i(a(c[t].positionX,c[t].positionY)),o(c[t].positionX,c[t].positionY))}));case 4:case"end":return e.stop()}}),e)})),b=0;case 4:if(!(b<c.length)){e.next=9;break}return e.delegateYield(j(b),"t0",6);case 6:b++,e.next=4;break;case 9:l===k.WIN&&u(),l===k.LOST&&d();case 11:case"end":return e.stop()}}),e)})));return function(t,n,c,i,a,r,o,s,u,d){return e.apply(this,arguments)}}(),P=[-1,0,1,0,-1,-1,1,1],X=[0,1,0,-1,-1,1,1,-1];var L=function(){var e,t,n=Object(c.useState)([]),a=Object(l.a)(n,2),r=a[0],o=a[1],g=Object(c.useState)(!1),v=Object(l.a)(g,2),C=v[0],T=v[1],R=Object(c.useState)(k.IN_PROGRESS),Y=Object(l.a)(R,2),N=Y[0],F=Y[1],L=Object(c.useState)(20),W=Object(l.a)(L,2),G=W[0],A=W[1],_=Object(c.useState)(81),U=Object(l.a)(_,2),H=U[0],D=U[1],J=Object(c.useState)([]),V=Object(l.a)(J,2),q=V[0],z=V[1],K=Object(c.useState)({coordX:0,coordY:-620}),Q=Object(l.a)(K,2),Z=Q[0],$=Q[1],ee=Object(c.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ie=Object(c.useState)(0),ae=Object(l.a)(ie,2),re=ae[0],oe=ae[1],se=Object(c.useState)(0),ue=Object(l.a)(se,2),de=ue[0],le=ue[1];Object(c.useEffect)((function(){!function(e,t){for(var n=Object(d.a)(r),c=0;c<e;c++){n[c]=[];for(var i=0;i<t;i++)n[c][i]={type:y.EMPTY,isClicked:!1,visited:!1,isFlagged:!1}}o(n)}(9,9)}),[]),Object(c.useEffect)((function(){je()}),[re]),Object(c.useEffect)((function(){be(),oe(de)}),[de]),Object(c.useEffect)((function(){console.log(q)}),[q]);var je=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N!==k.IN_PROGRESS){e.next=3;break}return e.next=3,B(1e3).then((function(){oe(re+1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ee&&!Re){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B(1e3).then((function(){le(de+1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){20===H&&F(k.WIN)}),[H]),Object(c.useEffect)((function(){r.length>0&&!1===C&&(Oe(20),T(!0),pe(9,9))}),[r]);var fe=function(e,t){var n=Object(d.a)(r);n[e][t].type=y.BOMB,o(n)},Oe=function(e){for(var t=0;t<e;t++){var n=Math.floor(9*Math.random()),c=Math.floor(9*Math.random());fe(n,c)}},pe=function(e,t){for(var n=Object(d.a)(r),c=0;c<e;c++)for(var i=0;i<t;i++)if(n[c][i].type===y.EMPTY){var a=he(c,i);1===a?n[c][i].type=y.ONE:2===a?n[c][i].type=y.TWO:3===a?n[c][i].type=y.THREE:4===a&&(n[c][i].type=y.FOUR)}o(n)},he=function(e,t){for(var n=0,c=0;c<8;c++){var i=e+P[c],a=t+X[c];i>=0&&a>=0&&i<=8&&a<=8&&r[i][a].type===y.BOMB&&n++}return n},ge=function(e,t){var n=Object(d.a)(r),c=S(n,e,t);D(H-c),o(n)},ve=function(){for(var e=Object(d.a)(r),t=0;t<9;t++)for(var n=0;n<9;n++)e[t][n].isClicked=!1,e[t][n].visited=!1,e[t][n].isFlagged=!1;o(e)},xe=function(e,t){var n=Object(d.a)(r);n[e][t].isClicked=!0,D(H-1),o(n),r[e][t].type===y.EMPTY&&ge(e,t)},me=function(e,t){var n=Object(d.a)(r);n[e][t].isFlagged=!n[e][t].isFlagged,o(n)},ye=function(e,t){return{coordX:70*t,coordY:70*e-620}},ke=i.a.useState(!1),we=Object(l.a)(ke,2),Ee=we[0],Se=we[1],Ce=i.a.useState(!1),Te=Object(l.a)(Ce,2),Re=Te[0],Ye=Te[1];Object(c.useEffect)((function(){N===k.WIN&&Ne(),N===k.LOST&&Fe()}),[N]);var Ne=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(1500).then((function(){Se(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(1500).then((function(){Ye(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){Se(!1),Ye(!1),window.location.reload()},Be=function(){Se(!1),Ye(!1),le(0),be(),I(ve,ce,q,$,ye,xe,me,Ne,Fe,N)};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{children:Object(x.jsxs)(j.a,{open:Ee,onClose:Me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(x.jsx)(b.a,{id:"alert-dialog-title",children:"\ud83d\udca3Congratulations, you won the game!\ud83d\udca3"}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(O.a,{id:"alert-dialog-description",children:["Congratulations!!!\ud83d\udca3\ud83d\udca3\ud83d\udca3 Now you can play another game by clicking Restart Button or watch the replay of the game by clicking Replay Button!",Object(x.jsx)("div",{className:"centerImage",children:Object(x.jsx)("img",{height:"300",width:"700",src:E})})]})}),Object(x.jsxs)(p.a,{children:[Object(x.jsx)(h.a,{onClick:Me,children:"RESTART"}),Object(x.jsx)(h.a,{onClick:Be,children:"REPLAY"})]})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(j.a,{open:Re,onClose:Me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(x.jsx)(b.a,{id:"alert-dialog-title",children:"\ud83d\udca3Unfortunately, you didn't win this game!\ud83d\udca3"}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(O.a,{id:"alert-dialog-description",children:["Maybe next time :(\ud83d\udca3 Now you can play another game by clicking Restart Button or watch the replay of the game by clicking Replay Button!",Object(x.jsx)("div",{className:"centerImage",children:Object(x.jsx)("img",{src:w})})]})}),Object(x.jsxs)(p.a,{children:[Object(x.jsx)(h.a,{onClick:Me,children:"RESTART"}),Object(x.jsx)(h.a,{onClick:Be,children:"REPLAY"})]})]})}),Object(x.jsxs)("div",{className:"line-up",children:[Object(x.jsxs)("div",{className:"bombcounter",children:["Bomb Counter: ",G]}),Object(x.jsxs)("div",{className:"seconds",children:["Time: ",re," seconds"]})]}),Object(x.jsxs)("div",{className:"board",children:[r.map((function(e,t){return Object(x.jsx)("div",{className:"row",children:M(e,t,r,G,q,H,N,o,A,z,D,F,ge,re)},"row-".concat(t))})),Object(x.jsx)(m,{coordX:Z.coordX,coordY:Z.coordY,isVisible:ne,startX:(null===(e=q[0])||void 0===e?void 0:e.positionX)?q[0].positionX:0,startY:(null===(t=q[0])||void 0===t?void 0:t.positionY)?q[0].positionY:-620})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(L,{})}),document.getElementById("root")),W()}},[[59,1,2]]]);
//# sourceMappingURL=main.d69a85e2.chunk.js.map